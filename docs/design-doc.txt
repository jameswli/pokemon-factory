Factory Project - Team 9
=====
Design Document


##Purpose / Overview
Give a brief, high-level description of what this piece of software will do. This is pretty much you restating the problem as you understand it.

##Requirements
In addition to the Kitting Cell requirements listed on this page: http://www-scf.usc.edu/~csci201/factory/TheKittingCell.htm, there are other requirements on the GUI side as well.

There needs to be 6 clients connecting to a central server:

* Parts Manager
	* makes parts
	* add / change / delete
	* representative set of parts
* Kit Manager
	* establishes what kits the factory can produce
	* assign parts to kits
	* add / change / delete
	* view the production schedule (what's to be made)
* Factory Production Manager
	* select a kit & how many to make
	* view entire simulation
* Kit Assembly Manager
	* Sees parts robot, kitting stand, kit delivery station
* Lane Manager
	* Sees feeders, lanes, nests, diverters
* Gantry Robot Manager
	* Sees gantry robot, parts bins, feeders, purge station

##Classes
In our implementation, the following classes will be necessary.

###Gantry Robot - Chris
    The gantry robot begins the simulation by bringing all of the parts bins onto the screen. The robot will move bins and dump them into the feeder. After dumping the bin into a feeder, the gantry robot will place the bin behind the feeder in the purge station. The robot will also take empty and purged bins into a storage room off of the screen.

	Variables:
	int currentX
		- X coordinate that gantry robot is currently located at
	int currentY
		-Y coordinate that gantry robot is currently located at
	
	int destinationX
		-X coordinate that gantry robot is moving towards
	int destinationY
		-Y coordinate that gantry robot is moving towards
	
	static int storageX
		-X coordinate that storage is located at (located off screen)
	static int storageY
		-Y coordinate that storage is located at (located off screen)
	
	static int startBinX
		-Starting X coordinate of the line of bins
	static int  startBinY
		-Starting Y coordinate of the line of bins
	
	Bin heldBin
		-Bin being held by the feeder. Used to move the bin with the feeder
	
	Feeder destinationFeeder
		-Feeder to drop heldBin at
	
	Arraylist <Bin> binList
		-Arraylist to store the locations of each new bin
	
	Imageicon gantryImage
		-Image for gantry robot
	
	Functions:
	receiveBin(Bin)
		-Gantry robot takes a bin from offscreen and moves it to its correct position on screen. Uses binList to find correct location
	dropBin(Bin, Feeder)
		-Gantry robot picks up the given bin and drops it into the specified feeder. After being emptied into the feeder, the bin is moved to the purge station.
	removeBin(Bin)
		-Gantry robot takes a bin from the purge station and moves it off screen to the storage location
	
	moveTo(destinationX, destinationY)
		-Moves gantry from current coordinates to the new destination coordinates

###Feeders
Some description.

- Some method
- Some other method

###Lane


###Nest


###Camera


###Parts Robot
	Variables:
		-int robotInitialX, robotInitialY
			-initial location of robot
		-int robotCurrentX, robotCurrentY
			-current location of robot
		-boolean arm1, arm2, arm3, arm4
			-whether the arm is full, initialized empty
		-int ArrayList<Part> partArray
			-an array of parts that allocates memory for 4 parts
	Methods:
		-pickUpPart(Part)
			-pickup from nests
			-goes to a location to pick up a part
			-be able to hold 4 parts at a time
		-givePartToKit(Kit, int)
			-gives the part to the kit
			-goes to a location to give a part
			-puts part in a specific location inside the kit
		-goHome()
			-depends on specific graphics implementation
			-sends the robot back to the initial location
			-makes sure that the robot doesn't collide
			-then send message that the action has been performed(either part is picked up or it's given to a kit)
		-drawRobot(robotImage)
			-draws the robot
			-pass by reference robotImage to drawperformed 
###Kits Robot


###Conveyor - Vansh and Neetu
    The conveyor is going to used to bring empty kits into the factory and move completed ones out. After bringing empty kits into the factory, the kits will be moved by other robots. The conveyor will need to know how to move and stop based on its sensors and instructions from the factory agent.
    Methods:
        - constructor() : creates a companion display object
        - draw() : paints the conveyer belt with the kits at the right position
    Variables:
        - arrayList<ImageIcon> conveyorLines: 
                This will be a part of the graphical representation of the conveyor. 
                These lines will gradually move across the conveyor belt at a desired velocity.
        - ImageIcon conveyorBelt : should be a long rectangle meant to simulate the conveyor belt

###ConveyorLogic - Vansh and Neetu
    Contains all non-graphic related functions still needed for the companion display class to display properly.
    This class will contain a companion display object so said object can access any information when the graphic output changes
    Methods:
        - constructor() : creates a ConveyorLogic object
        - bringEmptyKit(Kit) : Brings in an empty Kit from offscreen. Here we would be creating a new kit variable. Moves the conveyor belt and the kit together.
        - giveKitToKitRobot(Kit) : gives kit to the kit robot. Deletes the kit from the kitsOnConveyor. 
        - receiveKit(Kit) : receive completed Kit from Kit Robot then move the Kit offscreen
    Variables:
        - Conveyor : reference to companion display object
        - arrayList<Kits> kitsOnConveyor : this will keep track of all the kits on the conveyor. 

###Part - Vansh and Neetu
    Parts are going to used to assemble the kits. The parts will have a respective image and sound associated to them.
    Methods:
        - constructor() : creates a companion display object
        - getLocationX() : returns the x coordinate of the part
        - getLocationY() : returns the y coordinate of the part
        - draw(int,int) : draws the part at the correct location
    Variables:
        - locationX and locationY : location of the part
        - ImageIcon image : image of the part
        
###PartLogic - Vansh and Neetu
    Methods:
        - constructor(PartType): Based on the PartType, image and sound will be set to their correct values
        - getName() : returns the name
        - playSound() : plays the sound
    Variables:
        - Part : reference to companion display object
        - PartType type :  determines what kind of part it is
        - sound (V2) : sound the part makes

###Kit - Vansh and Neetu
    Methods:
        - constructor() : creates default empty companion display object
        - draw(int, int) : draws the kit at the location
        - getLocationX() : returns the x coordinate of the part
        - getLocationY() : returns the y coordinate of the part
    Variables:
        - locationX and locationY : location of the kit
        - ImageIcon kitImage : image of the kit

###KitLogic - Vansh and Neetu
     Methods:
        - constructor() : creates KitLogic to accompany companion display object
        - setPartTypes(ArrayList<PartType>) : sets partTypes
        - addPart(Part) : adds the part to part ArrayList
     Variables:
	- Kit : reference to companion display object
        - ArrayList<Part> parts : keeps track of all the parts in the kit
        - ArrayList<PartType> partTypes : list of all the parts required in the kit
        
###Bin - Vansh and Neetu
    Methods:
        - draw(int, int) : draws the bin at the location
    Variables:
        - locationX and locationY : location of the kit
        - ArrayList<Part> parts : ArrayList of all the parts that are currently in the bin
        - Public Boolean isEmpty : determines if the bin is empty so the respective ImageIcon can be drawn.
        - ImageIcon full : image of a full bin
        - ImageIcon empty : image of an empty bin

###BinLogic - Vansh and Neetu
    Methods:
        - Constructor(Parts, int) : creates a bin containing numberous specified parts
        - receiveParts(ArrayList<Part> parts): both from constructor, and from Feedersâ€™ purge
        - getPartType() : returns the part type
        - getQuantity() : returns quantity of parts in the bin
        - setEmpty() : empties the bin during a purge
    Variables: 
        - Bin : reference to companion display object
         - int partQuantity : quantity of parts in the bin

##Global Functions / Data
None

##High Level Architecture

A general flow for the simulation:

* Agent generates actions
* Server receives these actions (e.g. pick up kit from conveyor)
* Server processes the action, does logic (e.g. remove kit from the conveyor list)
* Server sends messages to clients about animation needed to be drawn. 
* Clients receive messages, animate as told
* Clients send back to Server notifying animation done
* Server responds to Agent

To accomodate the networking requirements, all objects that we draw will have two sub parts: Logic and Display. When the server receives a message from the agent, Logic will first process the necessary changes to the data, then pass the appropriate draw commands to the Display class. 

##User Interface

##Test Cases
- Writing a main method full of instructions, see everything works without server instructions
- Some might not require testing, because the server agents will guarantee valid outputs.
